# =================================================================
# Configuração de Produção para Redpanda Cluster
# Configurações otimizadas para ambiente de produção na Railway
# =================================================================

# Configurações de Segurança
admin_api_require_auth: true
enable_sasl: true
enable_authorization: true
superusers:
  - ${REDPANDA_ADMIN_USER:-admin}

# Configurações de Cluster
auto_create_topics_enabled: true
data_transforms_enabled: true

# Configurações de Performance para Produção
smp: 2
memory: 2G
reserve_memory: 0M
overprovisioned: false

# Configurações de Rede
kafka_api:
  - address: 0.0.0.0
    port: 9092
    authentication_method: sasl
pandaproxy:
  - address: 0.0.0.0
    port: 8082
    authentication_method: sasl
schema_registry:
  - address: 0.0.0.0
    port: 8081
    authentication_method: http_basic

# Configurações de Log
default_log_level: info
log_level:
  redpanda: info
  kafka: info
  sql: info

# Configurações de Retenção
log_segment_size: 134217728
log_retention_ms: 604800000
log_compression_type: snappy

# Configurações de Replicação
default_topic_replications: 3
default_topic_partitions: 3

# Configurações de Tiered Storage (se configurado)
cloud_storage_enabled: ${CLOUD_STORAGE_ENABLED:-false}
cloud_storage_region: ${CLOUD_STORAGE_REGION:-us-east-1}
cloud_storage_access_key: ${CLOUD_STORAGE_ACCESS_KEY:-}
cloud_storage_secret_key: ${CLOUD_STORAGE_SECRET_KEY:-}
cloud_storage_api_endpoint: ${CLOUD_STORAGE_ENDPOINT:-}
cloud_storage_bucket: ${CLOUD_STORAGE_BUCKET:-redpanda}

# Configurações de Métricas
enable_metrics: true
metrics_address: 0.0.0.0
metrics_port: 9644

# Configurações de Consumer Groups
enable_consumer_group_metrics:
  - "group"
  - "partition"
  - "consumer_lag"
consumer_group_lag_collection_interval_sec: 60

# Configurações de Host Metrics
enable_host_metrics: true

# Configurações de Auditoria (se disponível)
audit_enabled: ${AUDIT_ENABLED:-false}

# Configurações de Balanceamento
partition_autobalancing_mode: ${PARTITION_AUTOBALANCING_MODE:-continuous}
